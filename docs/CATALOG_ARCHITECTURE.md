# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°

> Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ¸ Â«ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Â» Ğ´Ğ»Ñ ÑĞ°Ğ¹Ñ‚Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°
> Ğ¡Ğ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ¢Ğ— Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ñ WhatsApp-Ğ±Ğ¾Ñ‚Ğ¾Ğ¼

---

## ğŸ“‹ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

1. [Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#1-ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°-Ğ±Ğ°Ğ·Ñ‹-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
2. [API-ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹](#2-api-ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹)
3. [Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ğ°](#3-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°-Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ğ°)
4. [Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ WhatsApp-Ğ±Ğ¾Ñ‚Ğ¾Ğ¼](#4-Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ-Ñ-whatsapp-Ğ±Ğ¾Ñ‚Ğ¾Ğ¼)
5. [Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ñ Ğ¢Ğ—](#5-Ñ‡ĞµĞº-Ğ»Ğ¸ÑÑ‚-ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ñ-Ñ‚Ğ·)

---

## 1. Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### 1.1 ER-Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Category        â”‚       â”‚          Product             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)             â”‚â”€â”€â”€â”   â”‚ id (PK)                      â”‚
â”‚ name                â”‚   â”‚   â”‚ name [ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ]              â”‚
â”‚ slug (unique)       â”‚   â””â”€â”€â–ºâ”‚ category_id (FK) [ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ] â”‚
â”‚ description         â”‚       â”‚ description [ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ]       â”‚
â”‚ category_type       â”‚       â”‚ short_description            â”‚
â”‚ image               â”‚       â”‚ price [Ğ¦ĞµĞ½Ğ°]                 â”‚
â”‚ icon (emoji)        â”‚       â”‚ old_price                    â”‚
â”‚ order               â”‚       â”‚ currency [Ğ’Ğ°Ğ»ÑÑ‚Ğ°]            â”‚
â”‚ is_active           â”‚       â”‚ unit                         â”‚
â”‚ show_on_home        â”‚       â”‚ image [Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ]          â”‚
â”‚ created_at          â”‚       â”‚ image_thumbnail              â”‚
â”‚ updated_at          â”‚       â”‚ is_available [Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ñ]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ is_featured                  â”‚
                              â”‚ is_promotional               â”‚
                              â”‚ is_new                       â”‚
                              â”‚ weight                       â”‚
                              â”‚ calories                     â”‚
                              â”‚ ingredients                  â”‚
                              â”‚ view_count                   â”‚
                              â”‚ purchase_count               â”‚
                              â”‚ order                        â”‚
                              â”‚ created_at                   â”‚
                              â”‚ updated_at                   â”‚
                              â”‚ slug (unique)                â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚       ProductImage           â”‚
                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                              â”‚ id (PK)                      â”‚
                              â”‚ product_id (FK)              â”‚
                              â”‚ image                        â”‚
                              â”‚ alt_text                     â”‚
                              â”‚ order                        â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ĞœĞ¾Ğ´ĞµĞ»ÑŒ Product (Ğ¢Ğ¾Ğ²Ğ°Ñ€) â€” ĞŸĞ¾Ğ»Ñ Ğ¿Ğ¾ Ğ¢Ğ—

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¢Ğ— |
|------|-----|----------|---------------|
| `name` | CharField(200) | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | âœ… Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ |
| `category` | ForeignKey(Category) | Ğ¡Ğ²ÑĞ·ÑŒ Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ĞµĞ¹ | âœ… ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ |
| `description` | TextField | ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | âœ… Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
| `short_description` | CharField(300) | ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ´Ğ»Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº/WhatsApp | âœ… Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
| `price` | DecimalField(10,2) | Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ Ñ†ĞµĞ½Ğ° | âœ… Ñ†ĞµĞ½Ğ° |
| `currency` | CharField(3) | ĞšĞ¾Ğ´ Ğ²Ğ°Ğ»ÑÑ‚Ñ‹ (KGS, RUB, USD, EUR, KZT) | âœ… Ğ²Ğ°Ğ»ÑÑ‚Ğ° |
| `image` | ImageField | ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ | âœ… Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ |
| `is_available` | BooleanField | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ñ | âœ… ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ñ |

### 1.3 Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

```python
class Meta:
    indexes = [
        models.Index(fields=['is_available', 'is_featured']),  # Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ñ
        models.Index(fields=['category', 'is_available']),     # ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ + Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ
        models.Index(fields=['slug']),                         # Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ slug
    ]
```

### 1.4 SQL-ÑÑ…ĞµĞ¼Ğ° (Ğ´Ğ»Ñ ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ¸)

```sql
-- ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸
CREATE TABLE catalog_category (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(100) NOT NULL,
    slug VARCHAR(120) UNIQUE NOT NULL,
    description TEXT DEFAULT '',
    category_type VARCHAR(20) DEFAULT 'products',
    image VARCHAR(100),
    icon VARCHAR(10) DEFAULT 'ğŸ›’',
    "order" INTEGER DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    show_on_home BOOLEAN DEFAULT TRUE,
    created_at DATETIME NOT NULL,
    updated_at DATETIME NOT NULL
);

-- Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹
CREATE TABLE catalog_product (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(200) NOT NULL,
    slug VARCHAR(220) UNIQUE NOT NULL,
    category_id INTEGER NOT NULL REFERENCES catalog_category(id),
    description TEXT NOT NULL,
    short_description VARCHAR(300) DEFAULT '',
    price DECIMAL(10,2) NOT NULL,
    old_price DECIMAL(10,2),
    currency VARCHAR(3) DEFAULT 'KGS',
    unit VARCHAR(20) DEFAULT 'ÑˆÑ‚',
    min_quantity INTEGER DEFAULT 1,
    image VARCHAR(100) NOT NULL,
    image_thumbnail VARCHAR(100),
    is_available BOOLEAN DEFAULT TRUE,
    is_featured BOOLEAN DEFAULT FALSE,
    is_promotional BOOLEAN DEFAULT FALSE,
    is_new BOOLEAN DEFAULT FALSE,
    weight VARCHAR(50) DEFAULT '',
    calories INTEGER,
    ingredients TEXT DEFAULT '',
    view_count INTEGER DEFAULT 0,
    purchase_count INTEGER DEFAULT 0,
    "order" INTEGER DEFAULT 0,
    created_at DATETIME NOT NULL,
    updated_at DATETIME NOT NULL
);

-- Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹
CREATE INDEX idx_product_available_featured ON catalog_product(is_available, is_featured);
CREATE INDEX idx_product_category_available ON catalog_product(category_id, is_available);
CREATE INDEX idx_product_slug ON catalog_product(slug);
```

---

## 2. API-ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹

### 2.1 Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ°

| ĞœĞµÑ‚Ğ¾Ğ´ | Ğ­Ğ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ |
|-------|----------|----------|-------------|
| `GET` | `/api/catalog/categories/` | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹ | 15 Ğ¼Ğ¸Ğ½ |
| `GET` | `/api/catalog/categories/{slug}/` | Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ | - |
| `GET` | `/api/catalog/categories/{slug}/products/` | Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹ Ğ² ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ | - |
| `GET` | `/api/catalog/products/` | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² (Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸) | - |
| `GET` | `/api/catalog/products/{slug}/` | Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | - |
| `GET` | `/api/catalog/products/featured/` | ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ | 15 Ğ¼Ğ¸Ğ½ |
| `GET` | `/api/catalog/products/promotional/` | ĞĞºÑ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ | 15 Ğ¼Ğ¸Ğ½ |

### 2.2 Ğ­Ğ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹ Ğ´Ğ»Ñ WhatsApp-Ğ±Ğ¾Ñ‚Ğ°

| ĞœĞµÑ‚Ğ¾Ğ´ | Ğ­Ğ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-------|----------|----------|
| `GET` | `/api/catalog/products/whatsapp/` | Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ Ğ´Ğ»Ñ WhatsApp |
| `GET` | `/api/catalog/products/{slug}/whatsapp_card/` | ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° Ğ´Ğ»Ñ WhatsApp |
| `GET` | `/api/catalog/pdf-catalogs/latest/` | ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ PDF-ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ |

### 2.3 Ğ­Ğ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¹

| ĞœĞµÑ‚Ğ¾Ğ´ | Ğ­Ğ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-------|----------|----------|
| `GET` | `/api/catalog/search/?q={query}` | ĞŸĞ¾Ğ¸ÑĞº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² |
| `GET` | `/api/catalog/search/suggestions/?q={prefix}` | ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ |
| `GET` | `/api/catalog/recommendations/popular/` | ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ |
| `GET` | `/api/catalog/recommendations/similar/{id}/` | ĞŸĞ¾Ñ…Ğ¾Ğ¶Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ |
| `POST` | `/api/catalog/products/{id}/view/` | Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ ÑÑ‡Ñ‘Ñ‚Ñ‡Ğ¸Ğº Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¾Ğ² |

### 2.4 ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²

```
GET /api/catalog/products/?category={id|slug}&is_featured=true&is_promotional=true&is_new=true
```

| ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|-----|----------|
| `category` | string/int | Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ (slug Ğ¸Ğ»Ğ¸ id) |
| `is_featured` | bool | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ |
| `is_promotional` | bool | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ°ĞºÑ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ |
| `is_new` | bool | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½Ğ¾Ğ²Ğ¸Ğ½ĞºĞ¸ |
| `search` | string | Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº |
| `ordering` | string | Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°: `price`, `-price`, `name`, `created_at` |

### 2.5 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ² API

#### GET `/api/catalog/products/` â€” Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²

```json
[
  {
    "id": 1,
    "name": "ĞŸĞ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹ ÑĞ²ĞµĞ¶Ğ¸Ğµ",
    "slug": "pomidory-svezhie",
    "category": {
      "id": 1,
      "name": "ĞĞ²Ğ¾Ñ‰Ğ¸",
      "slug": "ovoschi",
      "icon": "ğŸ¥•"
    },
    "short_description": "Ğ¡Ğ²ĞµĞ¶Ğ¸Ğµ ÑĞ¿ĞµĞ»Ñ‹Ğµ Ğ¿Ğ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹ Ñ Ğ³Ñ€ÑĞ´ĞºĞ¸",
    "price": "150.00",
    "old_price": null,
    "currency": "KGS",
    "formatted_price": "150 ÑĞ¾Ğ¼",
    "discount_percent": 0,
    "unit": "ĞºĞ³",
    "image": "/media/products/tomatoes.jpg",
    "is_available": true,
    "is_featured": true,
    "is_promotional": false,
    "is_new": false,
    "weight": "1 ĞºĞ³",
    "whatsapp_url": "https://wa.me/996XXXXXXXXX?text=..."
  }
]
```

#### GET `/api/catalog/products/{slug}/` â€” Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°

```json
{
  "id": 1,
  "name": "ĞŸĞ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹ ÑĞ²ĞµĞ¶Ğ¸Ğµ",
  "slug": "pomidory-svezhie",
  "category": {
    "id": 1,
    "name": "ĞĞ²Ğ¾Ñ‰Ğ¸",
    "slug": "ovoschi",
    "description": "Ğ¡Ğ²ĞµĞ¶Ğ¸Ğµ Ğ¾Ğ²Ğ¾Ñ‰Ğ¸ Ğ¸ Ğ·ĞµĞ»ĞµĞ½ÑŒ",
    "icon": "ğŸ¥•",
    "products_count": 15
  },
  "description": "Ğ¡Ğ¿ĞµĞ»Ñ‹Ğµ ÑĞ¾Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹, Ğ²Ñ‹Ñ€Ğ°Ñ‰ĞµĞ½Ğ½Ñ‹Ğµ Ğ½Ğ° Ğ¼ĞµÑÑ‚Ğ½Ñ‹Ñ… Ñ„ĞµÑ€Ğ¼Ğ°Ñ…. Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ñ‹ Ğ´Ğ»Ñ ÑĞ°Ğ»Ğ°Ñ‚Ğ¾Ğ² Ğ¸ ÑĞ¾ÑƒÑĞ¾Ğ².",
  "short_description": "Ğ¡Ğ²ĞµĞ¶Ğ¸Ğµ ÑĞ¿ĞµĞ»Ñ‹Ğµ Ğ¿Ğ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹ Ñ Ğ³Ñ€ÑĞ´ĞºĞ¸",
  "price": "150.00",
  "old_price": "180.00",
  "currency": "KGS",
  "formatted_price": "150 ÑĞ¾Ğ¼",
  "discount_percent": 17,
  "unit": "ĞºĞ³",
  "min_quantity": 1,
  "image": "/media/products/tomatoes.jpg",
  "images": [
    {"id": 1, "image": "/media/products/tomatoes-2.jpg", "alt_text": "ĞŸĞ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹ ĞºÑ€ÑƒĞ¿Ğ½Ñ‹Ğ¼ Ğ¿Ğ»Ğ°Ğ½Ğ¾Ğ¼"}
  ],
  "is_available": true,
  "is_featured": true,
  "is_promotional": true,
  "is_new": false,
  "weight": "1 ĞºĞ³",
  "calories": 20,
  "ingredients": "",
  "whatsapp_url": "https://wa.me/996XXXXXXXXX?text=...",
  "whatsapp_text": "*ĞŸĞ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹ ÑĞ²ĞµĞ¶Ğ¸Ğµ*\nğŸ’° 150 ÑĞ¾Ğ¼\nğŸ“¦ 1 ĞºĞ³\n\nĞ¡Ğ²ĞµĞ¶Ğ¸Ğµ ÑĞ¿ĞµĞ»Ñ‹Ğµ Ğ¿Ğ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹ Ñ Ğ³Ñ€ÑĞ´ĞºĞ¸",
  "created_at": "2026-01-15T10:30:00Z",
  "updated_at": "2026-01-28T09:00:00Z"
}
```

### 2.6 Ğ­Ğ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚ Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ†ĞµĞ½

```python
# ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ API Ğ´Ğ»Ñ Ğ¼Ğ°ÑÑĞ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ†ĞµĞ½
@api_view(['PATCH'])
@permission_classes([IsAdminUser])
def bulk_update_prices(request):
    """
    PATCH /api/catalog/products/bulk-prices/
    
    Body:
    {
        "updates": [
            {"id": 1, "price": "160.00"},
            {"id": 2, "price": "250.00", "old_price": "300.00"}
        ]
    }
    """
    updates = request.data.get('updates', [])
    updated = []
    
    for item in updates:
        try:
            product = Product.objects.get(id=item['id'])
            product.price = item['price']
            if 'old_price' in item:
                product.old_price = item.get('old_price')
            product.save(update_fields=['price', 'old_price', 'updated_at'])
            updated.append(product.id)
        except Product.DoesNotExist:
            continue
    
    # Ğ˜Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ĞºÑÑˆĞ°
    cache.delete_many(['api_products_featured', 'api_products_promotional'])
    
    return Response({'updated': updated})
```

---

## 3. Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ğ°

### 3.1 ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HEADER (Ğ¨Ğ°Ğ¿ĞºĞ°)                          â”‚
â”‚  ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ    ğŸ“ ĞĞ´Ñ€ĞµÑ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°    ğŸ“ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  ĞŸĞĞ˜Ğ¡Ğš                                     â”‚
â”‚  ğŸ” [ĞŸĞ¾Ğ¸ÑĞº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²...                              ]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ˜ (Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞºÑ€Ğ¾Ğ»Ğ»)           â”‚
â”‚  [Ğ’ÑĞµ] [ğŸ¥• ĞĞ²Ğ¾Ñ‰Ğ¸] [ğŸ Ğ¤Ñ€ÑƒĞºÑ‚Ñ‹] [ğŸ¥› ĞœĞ¾Ğ»Ğ¾Ñ‡Ğ½Ñ‹Ğµ] [ğŸ– ĞœÑÑĞ¾] ...  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚              Ğ¡Ğ•Ğ¢ĞšĞ ĞšĞĞ Ğ¢ĞĞ§Ğ•Ğš Ğ¢ĞĞ’ĞĞ ĞĞ’                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ ğŸ“·      â”‚ â”‚ ğŸ“· -20% â”‚ â”‚ ğŸ“·      â”‚ â”‚ ğŸ“· NEW  â”‚           â”‚
â”‚  â”‚ Ğ¢Ğ¾Ğ²Ğ°Ñ€ 1 â”‚ â”‚ Ğ¢Ğ¾Ğ²Ğ°Ñ€ 2 â”‚ â”‚ Ğ¢Ğ¾Ğ²Ğ°Ñ€ 3 â”‚ â”‚ Ğ¢Ğ¾Ğ²Ğ°Ñ€ 4 â”‚           â”‚
â”‚  â”‚ 150 ÑĞ¾Ğ¼ â”‚ â”‚ 200 ÑĞ¾Ğ¼ â”‚ â”‚ 90 ÑĞ¾Ğ¼  â”‚ â”‚ 250 ÑĞ¾Ğ¼ â”‚           â”‚
â”‚  â”‚[ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°]â”‚ â”‚[ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°]â”‚ â”‚[ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°]â”‚ â”‚[ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°]â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ ...     â”‚ â”‚ ...     â”‚ â”‚ ...     â”‚ â”‚ ...     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ĞšĞĞĞŸĞšĞ "ĞĞ¢ĞšĞ Ğ«Ğ¢Ğ¬ ĞšĞĞ Ğ—Ğ˜ĞĞ£"                      â”‚
â”‚          [ ğŸ›’ ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñƒ (3 Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°) ]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ĞĞ˜Ğ–ĞĞ¯Ğ¯ ĞĞĞ’Ğ˜Ğ“ĞĞ¦Ğ˜Ğ¯ (fixed)                      â”‚
â”‚    ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ     ğŸ›’ ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°     ğŸ“ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°

```html
<div class="menu-card" id="product-{{ product.id }}">
    <!-- Ğ‘ĞµĞ¹Ğ´Ğ¶ (ÑĞºĞ¸Ğ´ĞºĞ°/Ğ½Ğ¾Ğ²Ğ¸Ğ½ĞºĞ°/Ñ…Ğ¸Ñ‚) -->
    <span class="menu-card-badge">-20%</span>
    
    <!-- Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ Ğ»ĞµĞ½Ğ¸Ğ²Ğ¾Ğ¹ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¾Ğ¹ -->
    <a href="/catalog/product/{{ product.slug }}/" class="menu-card-image">
        <img src="{{ product.image.url }}" 
             alt="{{ product.name }}" 
             loading="lazy"
             decoding="async">
    </a>
    
    <!-- ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ -->
    <div class="menu-card-content">
        <h3 class="menu-card-name">{{ product.name }}</h3>
        
        <div class="menu-card-price">
            <span class="menu-card-old-price">{{ product.formatted_old_price }}</span>
            {{ product.formatted_price }}
            <span class="menu-card-weight">{{ product.weight }}</span>
        </div>
        
        <button class="menu-card-add-btn add-to-cart-btn"
                data-id="{{ product.id }}"
                data-name="{{ product.name }}"
                data-price="{{ product.price }}"
                data-image="{{ product.image.url }}">
            Ğ’ ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñƒ
        </button>
    </div>
</div>
```

### 3.3 Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼

```javascript
// Ğ¤Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· URL Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
const categoryTabs = document.querySelectorAll('.menu-nav-item');

categoryTabs.forEach(tab => {
    tab.addEventListener('click', (e) => {
        // URL Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚: /menu/?category=ovoschi
        const categorySlug = tab.dataset.category;
        
        if (categorySlug) {
            window.location.href = `/menu/?category=${categorySlug}`;
        } else {
            window.location.href = '/menu/';
        }
    });
});
```

### 3.4 Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹

```html
<!-- Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ -->

<!-- 1. Lazy loading Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ½Ğ¸Ğ¶Ğµ fold -->
<img loading="lazy" decoding="async" src="..." alt="...">

<!-- 2. Preload Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ ÑĞºÑ€Ğ°Ğ½Ğ° -->
<link rel="preload" as="image" href="/media/products/hero-product.webp">

<!-- 3. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ responsive images -->
<picture>
    <source srcset="/media/products/tomatoes-400.webp" 
            media="(max-width: 480px)" type="image/webp">
    <source srcset="/media/products/tomatoes-800.webp" 
            media="(max-width: 768px)" type="image/webp">
    <img src="/media/products/tomatoes.jpg" alt="ĞŸĞ¾Ğ¼Ğ¸Ğ´Ğ¾Ñ€Ñ‹">
</picture>

<!-- 4. CSS placeholder Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ layout shift -->
<style>
.menu-card-image {
    aspect-ratio: 4/3;
    background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
}
</style>
```

```python
# Ğ‘ÑĞºĞµĞ½Ğ´: ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ thumbnail Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ
from django.db.models.signals import post_save
from PIL import Image
import io

def create_thumbnail(sender, instance, **kwargs):
    if instance.image and not instance.image_thumbnail:
        img = Image.open(instance.image)
        img.thumbnail((400, 400), Image.Resampling.LANCZOS)
        
        thumb_io = io.BytesIO()
        img.save(thumb_io, format='WEBP', quality=85)
        
        thumb_name = f"thumb_{instance.image.name.split('/')[-1].split('.')[0]}.webp"
        instance.image_thumbnail.save(thumb_name, thumb_io, save=False)
```

### 3.5 Ğ¡ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Â«Ğ½ĞµÑ‚ Ğ² Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸Â»

```python
# Backend: Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
class ProductViewSet(viewsets.ReadOnlyModelViewSet):
    # ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹
    queryset = Product.objects.filter(is_available=True)
    
    def get_queryset(self):
        queryset = super().get_queryset()
        
        # ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ Ğ´Ğ»Ñ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ° Ğ²ÑĞµÑ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² (Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¾Ğ²)
        show_all = self.request.query_params.get('show_all', 'false')
        if show_all.lower() == 'true' and self.request.user.is_staff:
            return Product.objects.all()
        
        return queryset
```

```html
<!-- Frontend: Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾Ğ³Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ) -->
<div class="menu-card {% if not product.is_available %}out-of-stock{% endif %}">
    {% if not product.is_available %}
    <div class="out-of-stock-overlay">
        <span>ĞĞµÑ‚ Ğ² Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸</span>
    </div>
    {% endif %}
    <!-- ... -->
</div>
```

```css
/* CSS Ğ´Ğ»Ñ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² */
.menu-card.out-of-stock {
    opacity: 0.6;
    pointer-events: none;
}

.out-of-stock-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.9);
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 600;
    color: #e74c3c;
}
```

---

## 4. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ WhatsApp-Ğ±Ğ¾Ñ‚Ğ¾Ğ¼

### 4.1 Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ğ•Ğ”Ğ˜ĞĞĞ¯ Ğ‘Ğ” (PostgreSQL/SQLite)            â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                catalog_product                        â”‚  â”‚
â”‚  â”‚  id | name | price | currency | is_available | ...    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â”‚                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚              â–¼            â–¼            â–¼                   â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚ Ğ¡Ğ°Ğ¹Ñ‚   â”‚   â”‚WhatsAppâ”‚   â”‚ ĞĞ´Ğ¼Ğ¸Ğ½  â”‚               â”‚
â”‚         â”‚ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ â”‚   â”‚  Ğ‘Ğ¾Ñ‚   â”‚   â”‚ĞŸĞ°Ğ½ĞµĞ»ÑŒ  â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ WhatsApp-Ğ±Ğ¾Ñ‚Ğ°

```python
# Ğ¡ĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€ Ğ´Ğ»Ñ WhatsApp
class ProductWhatsAppSerializer(serializers.ModelSerializer):
    formatted_price = serializers.CharField(read_only=True)
    whatsapp_text = serializers.CharField(read_only=True)
    
    class Meta:
        model = Product
        fields = [
            'id', 'name', 'formatted_price', 'image',
            'short_description', 'whatsapp_text', 'is_available'
        ]
```

```python
# Property Ğ² Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Product Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ‚ĞµĞºÑÑ‚Ğ° WhatsApp
@property
def whatsapp_text(self):
    """Generate text for WhatsApp bot."""
    text = f"*{self.name}*\n"
    text += f"ğŸ’° {self.formatted_price}\n"
    if self.weight:
        text += f"ğŸ“¦ {self.weight}\n"
    text += f"\n{self.short_description or self.description[:200]}"
    return text
```

### 4.3 ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° Ğ² WhatsApp-Ğ±Ğ¾Ñ‚

#### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: Deep Link (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)

```python
# Ğ’ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Product
def get_whatsapp_order_url(self):
    """Generate WhatsApp deep link for ordering."""
    from django.conf import settings
    from urllib.parse import quote
    
    message = f"Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ! Ğ¥Ğ¾Ñ‡Ñƒ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ:\n{self.name}\nĞ¦ĞµĞ½Ğ°: {self.formatted_price}"
    phone = settings.COMPANY_WHATSAPP.replace('+', '')
    
    return f"https://wa.me/{phone}?text={quote(message)}"
```

```html
<!-- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ² WhatsApp" Ğ½Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° -->
<a href="{{ product.get_whatsapp_order_url }}" 
   class="whatsapp-order-btn"
   target="_blank"
   rel="noopener">
    <span class="whatsapp-icon">ğŸ’¬</span>
    Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ² WhatsApp
</a>
```

#### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñƒ

```javascript
// JavaScript: Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°ĞºĞ°Ğ·Ğ° Ğ¸Ğ· ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñ‹ Ğ´Ğ»Ñ WhatsApp
function sendCartToWhatsApp() {
    const cart = getCart();  // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñƒ Ğ¸Ğ· localStorage
    const phone = document.body.dataset.whatsapp;
    
    let message = "Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ! Ğ¥Ğ¾Ñ‡Ñƒ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ:\n\n";
    
    cart.items.forEach(item => {
        message += `â€¢ ${item.name} x${item.quantity} = ${item.price * item.quantity} ÑĞ¾Ğ¼\n`;
    });
    
    message += `\nğŸ’° Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: ${cart.total} ÑĞ¾Ğ¼`;
    
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
}
```

#### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 3: Webhook Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ° (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ)

```python
# API ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° Ğ±Ğ¾Ñ‚Ğ¾Ğ¼
@api_view(['GET'])
@permission_classes([AllowAny])
def get_product_for_bot(request, product_id):
    """
    GET /api/catalog/bot/product/{id}/
    
    Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ WhatsApp-Ğ±Ğ¾Ñ‚Ğ¾Ğ¼ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğµ.
    """
    try:
        product = Product.objects.get(id=product_id, is_available=True)
        return Response({
            'id': product.id,
            'name': product.name,
            'price': str(product.price),
            'currency': product.currency,
            'formatted_price': product.formatted_price,
            'description': product.short_description,
            'image_url': request.build_absolute_uri(product.image.url) if product.image else None,
            'whatsapp_text': product.whatsapp_text,
            'is_available': product.is_available
        })
    except Product.DoesNotExist:
        return Response({'error': 'Ğ¢Ğ¾Ğ²Ğ°Ñ€ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½'}, status=404)
```

### 4.4 Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```python
# signals.py â€” Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ±Ğ¾Ñ‚Ğ° Ğ¾Ğ± Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸ÑÑ…
from django.db.models.signals import post_save, post_delete
from django.dispatch import receiver
from django.core.cache import cache

@receiver(post_save, sender=Product)
def product_updated(sender, instance, created, **kwargs):
    """
    ĞŸÑ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°:
    1. Ğ˜Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµĞ¼ ĞºÑÑˆ
    2. ĞĞ¿Ğ¾Ğ²ĞµÑ‰Ğ°ĞµĞ¼ WhatsApp-Ğ±Ğ¾Ñ‚Ğ° (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
    """
    # Ğ˜Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ĞºÑÑˆĞ°
    cache.delete_many([
        'api_categories_list',
        'api_products_featured',
        'api_products_promotional',
        f'product_{instance.slug}',
        f'category_{instance.category.slug}_products',
    ])
    
    # Webhook Ğ´Ğ»Ñ WhatsApp-Ğ±Ğ¾Ñ‚Ğ° (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
    # notify_whatsapp_bot_about_change(instance)
```

---

## 5. Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ñ Ğ¢Ğ—

### âœ… Ğ¡Ğ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ° Ğ¢Ğ— â€” Ğ¿Ğ¾ Ğ¿ÑƒĞ½ĞºÑ‚Ğ°Ğ¼

| â„– | Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |
|---|------------|--------|------------|
| **1** | **Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ Ğ‘Ğ” Ğ´Ğ»Ñ ÑĞ°Ğ¹Ñ‚Ğ° Ğ¸ WhatsApp-Ğ±Ğ¾Ñ‚Ğ°** | âœ… | ĞœĞ¾Ğ´ĞµĞ»Ğ¸ `Product`, `Category` Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ÑÑ Ğ¸ ÑĞ°Ğ¹Ñ‚Ğ¾Ğ¼, Ğ¸ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼ Ñ‡ĞµÑ€ĞµĞ· API |
| **2.1** | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | âœ… | ĞŸĞ¾Ğ»Ğµ `name` (CharField, max_length=200) |
| **2.2** | ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | âœ… | ĞŸĞ¾Ğ»Ğµ `category` (ForeignKey â†’ Category) |
| **2.3** | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | âœ… | ĞŸĞ¾Ğ»Ñ `description` (Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ) Ğ¸ `short_description` (ĞºÑ€Ğ°Ñ‚ĞºĞ¾Ğµ) |
| **2.4** | Ğ¦ĞµĞ½Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | âœ… | ĞŸĞ¾Ğ»Ğµ `price` (DecimalField) |
| **2.5** | Ğ’Ğ°Ğ»ÑÑ‚Ğ° | âœ… | ĞŸĞ¾Ğ»Ğµ `currency` (CharField Ñ choices: KGS, RUB, USD, EUR, KZT) |
| **2.6** | Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ | âœ… | ĞŸĞ¾Ğ»Ğµ `image` (ImageField) + `images` (Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ¾Ñ‚Ğ¾) |
| **2.7** | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ñ | âœ… | ĞŸĞ¾Ğ»Ğµ `is_available` (BooleanField) |
| **3.1** | Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼ | âœ… | ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ñ Ñ‚Ğ°Ğ±Ğ°Ğ¼Ğ¸ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹, URL Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€ `?category=slug` |
| **3.2** | ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² | âœ… | ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ `menu-card` Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ĞµĞ¼, Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼, Ñ†ĞµĞ½Ğ¾Ğ¹, ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ğ¹ |
| **3.3** | Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ | âœ… | `loading="lazy"`, thumbnails, WebP Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚, preload |
| **4.1** | Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ†ĞµĞ½ | âœ… | `updated_at` Ğ°Ğ²Ñ‚Ğ¾Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ, API bulk-update, Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ĞºÑÑˆĞ° |
| **4.2** | Ğ¡ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Â«Ğ½ĞµÑ‚ Ğ² Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸Â» | âœ… | Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ `is_available=True` Ğ² queryset Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ |
| **4.3** | ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° Ğ² WhatsApp-Ğ±Ğ¾Ñ‚ | âœ… | Deep link `wa.me`, API endpoint `/whatsapp_card/`, `whatsapp_text` property |

### ğŸ“‹ Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ (ÑĞ²ĞµÑ€Ñ… Ğ¢Ğ—)

| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|--------|----------|
| ĞŸĞ¾Ğ¸ÑĞº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² | âœ… | ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº Ñ Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°Ğ¼Ğ¸ |
| Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ñ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² | âœ… | API `/recommendations/similar/{id}/` |
| PDF-ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ° | âœ… | ĞœĞ¾Ğ´ĞµĞ»ÑŒ `PDFCatalog` Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸ĞµĞ¹ |
| Ğ¡Ğ¸Ğ½Ğ¾Ğ½Ğ¸Ğ¼Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° | âœ… | ĞœĞ¾Ğ´ĞµĞ»ÑŒ `SearchSynonym` Ğ´Ğ»Ñ fuzzy search |
| ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ğ¾ÑÑ‚Ğ¸ | âœ… | `view_count`, `purchase_count` |
| ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | âœ… | Django Cache Ğ´Ğ»Ñ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ² ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹ Ğ¸ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ñ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² |

---

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ°

```
apps/catalog/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ admin.py          # ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°Ğ¼Ğ¸
â”œâ”€â”€ apps.py
â”œâ”€â”€ models.py         # ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Product, Category, ProductImage, PDFCatalog
â”œâ”€â”€ serializers.py    # REST ÑĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ñ‹ Ğ´Ğ»Ñ API
â”œâ”€â”€ views.py          # API ViewSets (REST Framework)
â”œâ”€â”€ frontend_views.py # Views Ğ´Ğ»Ñ HTML ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†
â”œâ”€â”€ urls.py           # API URLs (/api/catalog/...)
â”œâ”€â”€ frontend_urls.py  # Frontend URLs (/menu/, /product/...)
â”œâ”€â”€ search_service.py # Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
â”œâ”€â”€ search_views.py   # API Ğ¿Ğ¾Ğ¸ÑĞºĞ°
â”œâ”€â”€ signals.py        # Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ»Ñ‹ (ĞºÑÑˆ, ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ)
â”œâ”€â”€ tasks.py          # Celery Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ (PDF Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ)
â””â”€â”€ migrations/

templates/catalog/
â”œâ”€â”€ menu.html                # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ° (Ğ¼ĞµĞ½Ñ)
â”œâ”€â”€ catalog_list.html        # ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
â”œâ”€â”€ catalog_list_menu.html   # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ Ğ¼ĞµĞ½Ñ
â””â”€â”€ product_detail_menu.html # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°

static/
â”œâ”€â”€ css/menu.css      # Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğ°
â”œâ”€â”€ css/cart.css      # Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñ‹
â”œâ”€â”€ js/cart.js        # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñ‹
â””â”€â”€ js/search.js      # ĞĞ²Ñ‚Ğ¾Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
```

---

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°

```python
# Ğ§ĞµÑ€ĞµĞ· Django Admin Ğ¸Ğ»Ğ¸ shell
from apps.catalog.models import Product, Category

category = Category.objects.get(slug='ovoschi')
product = Product.objects.create(
    name='ĞĞ³ÑƒÑ€Ñ†Ñ‹ ÑĞ²ĞµĞ¶Ğ¸Ğµ',
    category=category,
    description='Ğ¥Ñ€ÑƒÑÑ‚ÑÑ‰Ğ¸Ğµ Ğ¾Ğ³ÑƒÑ€Ñ†Ñ‹ Ñ Ğ³Ñ€ÑĞ´ĞºĞ¸',
    price=80.00,
    currency='KGS',
    image='products/cucumbers.jpg',
    is_available=True,
    is_featured=True
)
```

### ĞœĞ°ÑÑĞ¾Ğ²Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ†ĞµĞ½

```python
# Ğ§ĞµÑ€ĞµĞ· Django shell
from apps.catalog.models import Product

# Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ñ†ĞµĞ½Ñ‹ Ğ½Ğ° 10%
Product.objects.filter(is_available=True).update(
    price=F('price') * 1.1
)
```

### Ğ¡ĞºÑ€Ñ‹Ñ‚ÑŒ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ Ğ±ĞµĞ· Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ñ

```python
Product.objects.filter(stock__lte=0).update(is_available=False)
```

---

*Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½: 2026-01-28*
*Ğ’ĞµÑ€ÑĞ¸Ñ: 1.0*
