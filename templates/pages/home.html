{% extends 'base.html' %}
{% load static %}

{% block title %}{{ COMPANY_NAME }} - –°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-bg"></div>
    <div class="container">
        <div class="hero-content">
            <span class="hero-badge">üöÄ –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</span>
            <h1 class="hero-title">
                –°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã<br>
                <span class="gradient-text">—Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –Ω–∞ –¥–æ–º</span>
            </h1>
            <p class="hero-description">
                –ó–∞–∫–∞–∂–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –≥–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞ —á–µ—Ä–µ–∑ WhatsApp.
                –î–æ—Å—Ç–∞–≤–∏–º –±—ã—Å—Ç—Ä–æ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ!
            </p>
            <div class="hero-actions">
                <a href="https://wa.me/{{ company_whatsapp|slice:'1:' }}?text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!%20–•–æ—á—É%20—Å–¥–µ–ª–∞—Ç—å%20–∑–∞–∫–∞–∑"
                    class="btn btn-primary btn-lg" target="_blank">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
                    </svg>
                    –ó–∞–∫–∞–∑–∞—Ç—å –≤ WhatsApp
                </a>
                <a href="{% url 'catalog:list' %}" class="btn btn-outline btn-lg">
                    –°–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥
                </a>
            </div>
        </div>
        <div class="hero-image">
            <div class="hero-image-wrapper">
                <div class="hero-image-glow"></div>
                <img src="{% static 'images/hero-food.png' %}" alt="–°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã" loading="eager">
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features">
    <div class="container">
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üöö</div>
                <h3>–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
                <p>–î–æ—Å—Ç–∞–≤–ª—è–µ–º –∑–∞–∫–∞–∑—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —á–∞—Å–æ–≤ –ø–æ –≥–æ—Ä–æ–¥—É</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">‚ú®</div>
                <h3>–°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã</h3>
                <p>–¢–æ–ª—å–∫–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ —Å–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üí¨</div>
                <h3>–£–¥–æ–±–Ω—ã–π –∑–∞–∫–∞–∑</h3>
                <p>–ó–∞–∫–∞–∂–∏—Ç–µ —á–µ—Ä–µ–∑ WhatsApp –≤ –ø–∞—Ä—É –∫–ª–∏–∫–æ–≤</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üí∞</div>
                <h3>–õ—É—á—à–∏–µ —Ü–µ–Ω—ã</h3>
                <p>–ß–µ—Å—Ç–Ω—ã–µ —Ü–µ–Ω—ã –±–µ–∑ –Ω–∞–∫—Ä—É—Ç–æ–∫ –∏ —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π</p>
            </div>
        </div>
    </div>
</section>

<!-- Categories Section -->
{% if categories %}
<section class="categories-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤</h2>
            <p class="section-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–æ–≤–∞—Ä–æ–≤</p>
        </div>

        <div class="categories-grid">
            {% for category in categories %}
            <a href="{% url 'catalog:category' category.slug %}" class="category-card">
                <div class="category-icon">{{ category.icon }}</div>
                <h3 class="category-name">{{ category.name }}</h3>
                <span class="category-count">{{ category.products_count }} —Ç–æ–≤–∞—Ä–æ–≤</span>
            </a>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Featured Products Section -->
{% if featured_products %}
<section class="products-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h2>
            <a href="{% url 'catalog:list' %}?filter=featured" class="section-link">
                –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ ‚Üí
            </a>
        </div>

        <div class="products-grid">
            {% for product in featured_products %}
            <article class="product-card">
                {% if product.is_promotional %}
                <span class="product-badge product-badge-promo">–ê–∫—Ü–∏—è</span>
                {% elif product.is_new %}
                <span class="product-badge product-badge-new">–ù–æ–≤–∏–Ω–∫–∞</span>
                {% endif %}

                <a href="{% url 'catalog:product' product.slug %}" class="product-image-link">
                    {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image" loading="lazy">
                    {% else %}
                    <img src="{% static 'images/hero-food.png' %}" alt="{{ product.name }}" class="product-image"
                        loading="lazy">
                    {% endif %}
                </a>

                <div class="product-content">
                    <span class="product-category">{{ product.category.name }}</span>
                    <h3 class="product-name">
                        <a href="{% url 'catalog:product' product.slug %}">{{ product.name }}</a>
                    </h3>

                    {% if product.weight %}
                    <span class="product-weight">{{ product.weight }}</span>
                    {% endif %}

                    <div class="product-footer">
                        <div class="product-price">
                            {% if product.old_price %}
                            <span class="price-old">{{ product.old_price }} ‚ÇΩ</span>
                            {% endif %}
                            <span class="price-current">{{ product.formatted_price }}</span>
                        </div>

                        <a href="{{ product.get_whatsapp_order_url }}" class="btn btn-cart" target="_blank"
                            aria-label="–ó–∞–∫–∞–∑–∞—Ç—å {{ product.name }}">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path
                                    d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347" />
                            </svg>
                        </a>
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Promo Section -->
{% if promo_products %}
<section class="promo-section">
    <div class="container">
        <div class="promo-banner">
            <div class="promo-content">
                <span class="promo-badge">üî• –ê–∫—Ü–∏–∏</span>
                <h2>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h2>
                <p>–£—Å–ø–µ–π—Ç–µ –∑–∞–∫–∞–∑–∞—Ç—å –ø–æ –≤—ã–≥–æ–¥–Ω—ã–º —Ü–µ–Ω–∞–º!</p>
                <a href="{% url 'catalog:list' %}?filter=promo" class="btn btn-white">
                    –í—Å–µ –∞–∫—Ü–∏–∏
                </a>
            </div>
            <div class="promo-products">
                {% for product in promo_products|slice:":3" %}
                <a href="{% url 'catalog:product' product.slug %}" class="promo-product-card">
                    {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                    {% else %}
                    <img src="{% static 'images/hero-food.png' %}" alt="{{ product.name }}">
                    {% endif %}
                    <div class="promo-product-info">
                        <h4>{{ product.name }}</h4>
                        <div class="promo-product-price">
                            <span class="old">{{ product.old_price }} ‚ÇΩ</span>
                            <span class="new">{{ product.formatted_price }}</span>
                        </div>
                        <span class="promo-discount">-{{ product.discount_percent }}%</span>
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2>–ì–æ—Ç–æ–≤—ã —Å–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑?</h2>
            <p>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ WhatsApp –∏ –ø–æ–ª—É—á–∏—Ç–µ –∑–∞–∫–∞–∑ —É–∂–µ —Å–µ–≥–æ–¥–Ω—è!</p>
            <a href="https://wa.me/{{ company_whatsapp|slice:'1:' }}?text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!%20–•–æ—á—É%20—Å–¥–µ–ª–∞—Ç—å%20–∑–∞–∫–∞–∑"
                class="btn btn-whatsapp btn-lg" target="_blank">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
                </svg>
                –ù–∞–ø–∏—Å–∞—Ç—å –≤ WhatsApp
            </a>
        </div>
    </div>
</section>
{% endblock %}